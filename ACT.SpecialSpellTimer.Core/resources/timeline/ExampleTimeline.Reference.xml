<?xml version="1.0" encoding="utf-8"?>
<!-- 
タイムライン定義ファイルの書き方の説明
(c) anoyetta, 2018
-->
<timeline>
  <!-- 
  name タグ
  タイムラインを識別するための名前
  オーバーレイや管理画面に表示しタイムラインを識別する
  -->
  <name>タイムライン定義ファイルの説明書</name>

  <!-- 
  zone タグ
  このタイムラインが自動的にロードされるゾーン名。
  FFXIV_ACT_Pluginが識別する CurrentZoneName と一致させる必要があるため英語で指定する。
  例) 極白虎
  <zone>The Jade Stoa</zone>
  -->
  <zone>ゾーンなし</zone>

  <!--
  locale タグ
  このタイムライン定義がどのロケール向けに作られているのかを識別する。
  ゾーンと合わせて自動ロードの条件に含まれる。

  if (スペスペで設定しているゲームのロケール == このファイルのロケール &&
      FFXIV_ACT_PluginのCurrentZoneName == このファイルのゾーン)
  {
      このタイムラインをロードする
  }

  このような挙動になっている。
  -->
  <locale>JA</locale>

  <!--
  a タグ
  アクティビティを示すタイムラインの主な定義要素

  name :
  string, 任意項目
  このアクティビティの識別子。gotoやcallで指定するために使用する。

  time :
  TimeSpan, アクティビティの発生時刻を示す。
  mm:ss形式, s形式 どちらで書いてもよい。

  text :
  string, 任意項目
  オーバーレイに表示するアクティビティの表示テキスト。
  textを省略すると同期のみ、通知のみに使用されオーバーレイには表示されない。

  sync :
  string(RegEx), 任意項目
  タイムラインの時間経過を強制的にこのアクティビティの時刻に合わせるためのログマッチングキーワード。
  ここに指定されたパターンとログがマッチしたときタイムラインの現在時刻をこのアクティビティの時刻に合わせる。
  正規表現が使える。

  sync-s :
  double, 任意項目, 既定値-12
  syncマッチングを開始する時間のオフセット秒数。
  このアクティビティの12秒前から同期マッチングを開始する。

  sync-e :
  double, 任意項目, 既定値12
  syncマッチングを終了する時間のオフセット秒数。
  このアクティビティの12秒後まで同期マッチングを継続する。

  goto :
  string, 任意項目
  このアクティビティの時刻が到来したときにここで指定されたnameのアクティビティ、サブルーチンにジャンプする。

  call :
  string, 任意項目
  このアクティビティの時刻が到来したときにここで指定されたnameのアクティビティ、サブルーチンをコールする。

  notice :
  string, 任意項目
  このアクティビティの時刻が到来したときに通知を行う。
  waveファイルを指定した場合はwaveを再生する。
  その他の文字列の場合はTTSとして発声する。

  notice-d :
  enum, 任意項目, 既定値Both
  通知を再生するデバイスを指定します。TTSYukkuriでのメインデバイス、サブデバイスの設定に準ずる。
  Both : 普通の設定。デバイスを指定せず、TTSYukkuriでメイン、サブ両方を定義している場合両方で再生する。
  Main : TTSYukkuriで定義されたメインデバイスでのみ再生する。
  Sub  : TTSYukkuriで定義されたサブデバイスでのみ再生する。

  notice-o :
  double, 任意項目, 既定値-6
  通知発生させる時間的オフセット秒数。
  既定値ではアクティビティの時刻が到来する6秒前に通知する。

  style :
  string, 任意項目
  設定UIで定義したStyleを割り当てます。指定しない場合は規定のStyleが割当てられる。

  enabled :
  bool, 任意項目, 既定値true
  このエレメントが有効か無効か
  -->
  <a time="00:00" sync="オオオオオ……この衝動、もはや止められん！" />

  <!--
  t タグ
  タイムラインの実行中に常駐するトリガ。
  通知に使用したりランダムなフェーズ展開を追尾したりという用途で使用する。

  name :
  string, 任意項目
  このトリガの識別子。

  text :
  string, 任意項目
  トリガはオーバーレイには表示されないがログには出力される。そのときに出力されるtext

  sync :
  string(RegEx)
  このトリガのマッチングパターン

  sync-count :
  int, 任意項目, 既定値0
  何回目のマッチングでこのトリガを実行するか？
  0ならば、毎回のマッチングでトリガを実行する。
  1ならば、1回目のマッチング時のみトリガを実行する。
  2ならば、2回目のマッチング時のみトリガを実行する。
  ...
  という仕組み。

  goto :
  string, 任意項目
  このトリガにマッチしたときにここで指定されたnameのアクティビティ、サブルーチンにジャンプする。

  call :
  string, 任意項目
  このトリガにマッチしたときにここで指定されたnameのアクティビティ、サブルーチンをコールする。

  notice :
  string, 任意項目
  このトリガにマッチしたときに通知を行う。
  waveファイルを指定した場合はwaveを再生する。
  その他の文字列の場合はTTSとして発声する。

  notice-d :
  enum, 任意項目, 既定値Both
  通知を再生するデバイスを指定します。TTSYukkuriでのメインデバイス、サブデバイスの設定に準ずる。
  Both : 普通の設定。デバイスを指定せず、TTSYukkuriでメイン、サブ両方を定義している場合両方で再生する。
  Main : TTSYukkuriで定義されたメインデバイスでのみ再生する。
  Sub  : TTSYukkuriで定義されたサブデバイスでのみ再生する。

  enabled :
  bool, 任意項目, 既定値true
  このエレメントが有効か無効か
  -->
  <t text="天雷掌" sync="白虎は「天雷掌」の構え。" notice="天雷掌" goto="フェーズ1" />

  <!--
  s タグ
  アクティビティのブロックを定義するサブルーチンを定義する。
  s タグの子要素がサブルーチンとして機能する。
  サブルーチン内の時刻はサブルーチンの開始時からのオフセットと定義すること。

  name :
  string
  このサブルーチンの名前および識別子。goto, callのターゲットとなる。
  またこのサブルーチンの実行中はオーバーレイに表示される。

  enabled :
  bool, 任意項目, 既定値true
  このエレメントが有効か無効か
  -->
  <s name="フェーズ1">
    <a time="00:29" text="乾坤一擲" notice="次は、乾坤一擲。" />
    <a time="00:37" text="呪縛雷" notice="次は、呪縛雷。" />
    <a time="00:06" text="風雷波動" notice="次は、風雷波動。" />
  </s>


  <!--
  default タグ
  各要素, 属性に規定値を設定する。
  無効な要素名, 属性。特にキャストできない型の値を設定した場合はエラーになる。
  ログをよく確認すること。

  target-element :
  enum
  規定値を設定する要素を指定する
  Activity : a タグ（アクティビティ）に対して適用する
  Trigger  : t タグ（トリガ）に対して適用する

  target-attr :
  string
  既定値を設定する属性を指定する
  例)
  target-element="Activity"
  target-attr="notice-o"
  value="-3"
  アクティビティの規定の通知時刻オフセットを-3秒にする。

  value :
  object
  設定する既定値。キャストできないとエラーになるので注意すること。
  defaultを使用した場合はロード時にログを確認してエラーがないことを確認するのが望ましい。

  enabled :
  bool, 任意項目, 既定値true
  このエレメントが有効か無効か
  -->
  <default target-element="Activity" target-attr="notice-o" value="-3">
</timeline>
